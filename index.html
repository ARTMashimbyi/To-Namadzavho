<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>A Special Invitation for Namadzavho</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400..700&display=swap"
      rel="stylesheet"
    />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.2/dist/gsap.min.js"></script>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        font-family: "Segoe UI", system-ui, sans-serif;
      }

      :root {
        --primary: #0a74da;
        --primary-light: #2d8de3;
        --primary-dark: #0855a3;
        --accent: #00d4aa;
        --text: #e0e0e0;
        --text-light: #a0a0a0;
        --background: #0a0a15;
        --card: #15152b;
        --card-light: #1e1e3a;
        --shadow: rgba(10, 116, 218, 0.15);

        --envelope-x: 300px;
        --envelope-y: 200px;
        --envelope-bg: #2d5aa0;
        --envelope-shadow: rgb(255, 128, 0);
        --letter-x: 250px;
        --letter-y: calc(250px - 1rem - 10px);
        --letter-bg: AntiqueWhite;
        --letter-shadow: rgb(135, 215, 222);
        --letter-text: #180d07;
        --letter-font: "Dancing Script", serif;
        --letter-button-text: darkred;
        --heart-bg: darkred;
        --heart-text: white;
      }

      @media (min-width: 650px) {
        :root {
          --envelope-x: 600px;
          --envelope-y: 400px;
          --letter-x: 500px;
          --letter-y: calc(400px - 1rem - 10px);
        }
      }

      body {
        background: linear-gradient(135deg, var(--background) 0%, #121225 100%);
        min-height: 100vh;
        color: var(--text);
        overflow-x: hidden;
      }

      .container {
        width: 100%;
        min-height: 100vh;
        position: relative;
        overflow: hidden;
      }

      .particles-container {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        z-index: 1;
      }

      .content-wrapper {
        position: relative;
        z-index: 2;
        max-width: 1200px;
        margin: 0 auto;
        padding: 40px 20px;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        min-height: 100vh;
      }

      .header {
        text-align: center;
        margin-bottom: 40px;
        width: 100%;
        animation: fadeIn 1.5s ease-out;
      }

      @keyframes fadeIn {
        from {
          opacity: 0;
          transform: translateY(30px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      .header h1 {
        font-size: clamp(2.5rem, 6vw, 4rem);
        margin-bottom: 20px;
        font-weight: 700;
        background: linear-gradient(
          135deg,
          var(--primary) 0%,
          var(--accent) 100%
        );
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        text-shadow: 0 0 20px rgba(10, 116, 218, 0.3);
      }

      .header p {
        font-size: clamp(1.2rem, 3vw, 1.5rem);
        opacity: 0.9;
        font-weight: 300;
        max-width: 600px;
        margin: 0 auto;
        line-height: 1.4;
      }

      .name-highlight {
        color: var(--accent);
        font-weight: 600;
        text-shadow: 0 0 10px rgba(0, 212, 170, 0.5);
      }

      /* New Envelope Styles */
      .cssletter {
        position: relative;
        width: 100%;
        height: 100%;
        display: flex;
        align-items: center;
        justify-content: center;
        user-select: none;
        -webkit-user-select: none;
        margin: 10vh 0;
      }

      .envelope-container {
        margin: 40px 0;
        cursor: pointer;
        width: 100%;
        display: flex;
        justify-content: center;
      }

      .envelope {
        position: relative;
        width: var(--envelope-x);
        height: var(--envelope-y);
        background: var(--envelope-bg);
        box-shadow: inset 0 0 30px -5px var(--envelope-shadow),
          0 0 50vw 0 #540000;
      }

      .envelope::before {
        content: "Àö ö‚ù§Ô∏é…ûÀö";
        font-size: 5rem;
        color: white;
        position: absolute;
        left: 50%;
        top: 30%;
        transform: translate(-50%, -50%);
        mix-blend-mode: soft-light;
      }

      .envelope-flap {
        width: 100%;
        height: 71%;
        position: absolute;
        top: 0;
        z-index: 3;
        overflow: hidden;
        transition: 0.6s linear all;
        transform-origin: top;
        pointer-events: all;
      }

      .envelope-folds {
        width: 100%;
        height: 100%;
        overflow: hidden;
        z-index: 2;
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
      }

      .envelope-flap::before,
      .envelope-left::before,
      .envelope-right::before,
      .envelope-bottom::before {
        content: "";
        transform: rotate(45deg);
        background: var(--envelope-bg);
        box-shadow: 0 0 30px -5px var(--envelope-shadow);
        width: 100%;
        aspect-ratio: 1;
        display: block;
        position: absolute;
        top: 60%;
      }

      .envelope-flap::before {
        border-radius: 5rem;
        bottom: 30px;
        border-radius: 5rem;
        top: auto;
      }

      @media (min-width: 650px) {
        .envelope-flap::before {
          bottom: 100px;
        }
      }

      .envelope-left::before {
        top: 10%;
        left: -65%;
      }

      .envelope-right::before {
        top: 10%;
        right: -65%;
      }

      .envelope-bottom::before {
        top: 60%;
        border-radius: 5rem;
      }

      .heart {
        z-index: 4;
        position: absolute;
        box-shadow: none;
        border: none;
        width: 70px;
        aspect-ratio: 1;
        background: radial-gradient(
              circle at 60% 65%,
              var(--heart-bg) 64%,
              #0000 65%
            )
            top left/50% 50%,
          radial-gradient(circle at 40% 65%, var(--heart-bg) 64%, #0000 65%) top
            right/50% 50%,
          conic-gradient(
              from -45deg at 50% 85.5%,
              var(--heart-bg) 90deg,
              #0000 0
            )
            bottom/100% 50%;
        background-repeat: no-repeat;
        left: 35%;
        top: 50%;
        transform: translate(-50%, -50%);
        cursor: pointer;
      }

      @media (min-width: 650px) {
        .heart {
          width: 150px;
        }
      }

      .heart::before {
        content: "";
        display: block;
        position: absolute;
        width: 70px;
        aspect-ratio: 1;
        background: radial-gradient(circle at 60% 65%, #ffffff26 64%, #0000 65%)
            top left/50% 50%,
          radial-gradient(circle at 40% 65%, #ffffff26 64%, #0000 65%) top
            right/50% 50%,
          conic-gradient(from -45deg at 50% 85.5%, #ffffff26 90deg, #0000 0)
            bottom/100% 50%;
        background-repeat: no-repeat;
        left: 50%;
        top: 50%;
        transform: translate(-50%, -50%) scale(0);
        transition: 0.3s ease all;
        z-index: -1;
      }

      @media (min-width: 650px) {
        .heart::before {
          width: 150px;
        }
      }

      .heart:hover,
      .heart:active,
      .heart:focus {
        transform: translate(-50%, -50%);
        background-color: transparent;
        color: var(--heart-text);
      }

      .heart:hover::before,
      .heart:active::before,
      .heart:focus::before {
        transform: translate(-50%, -50%) scale(0.8);
      }

      .heart-text {
        transform: translateY(-10px);
        display: block;
        color: var(--heart-text);
        font-size: 1.5rem;
        font-family: var(--letter-font);
      }

      .envelope.active * {
        pointer-events: none;
      }

      .envelope.active .envelope-flap {
        transform: rotateX(-180deg) translateY(0);
        perspective: 10px;
      }

      .envelope.active .envelope-flap::before {
        box-shadow: inset 0 0 30px -5px var(--envelope-shadow);
      }

      .envelope.active .heart {
        display: none;
      }

      .invitation-card {
        background: linear-gradient(
          135deg,
          var(--card) 0%,
          var(--card-light) 100%
        );
        border-radius: 24px;
        padding: clamp(30px, 5vw, 50px);
        margin-bottom: 40px;
        box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
        border: 1px solid rgba(10, 116, 218, 0.2);
        backdrop-filter: blur(10px);
        width: 100%;
        max-width: 900px;
        display: none;
        animation: slideUp 1s ease-out 0.5s both;
      }

      @keyframes slideUp {
        from {
          opacity: 0;
          transform: translateY(50px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      .invitation-header {
        text-align: center;
        margin-bottom: 40px;
      }

      .invitation-header h2 {
        color: var(--primary);
        font-size: clamp(2rem, 5vw, 2.5rem);
        margin-bottom: 15px;
        font-weight: 600;
      }

      .invitation-header p {
        color: var(--text-light);
        font-size: clamp(1.1rem, 3vw, 1.3rem);
        max-width: 700px;
        margin: 0 auto;
        line-height: 1.6;
      }

      .details-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
        gap: 25px;
        margin-bottom: 40px;
      }

      .detail-card {
        background: linear-gradient(
          135deg,
          rgba(21, 21, 43, 0.8) 0%,
          rgba(30, 30, 58, 0.8) 100%
        );
        padding: clamp(20px, 4vw, 30px) clamp(15px, 3vw, 20px);
        border-radius: 16px;
        text-align: center;
        box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2);
        border: 1px solid rgba(10, 116, 218, 0.2);
        transition: all 0.4s ease;
        position: relative;
        overflow: hidden;
      }

      .detail-card::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 3px;
        background: linear-gradient(90deg, var(--primary), var(--accent));
        transform: scaleX(0);
        transition: transform 0.4s ease;
      }

      .detail-card:hover {
        transform: translateY(-10px);
        box-shadow: 0 15px 30px rgba(10, 116, 218, 0.2);
      }

      .detail-card:hover::before {
        transform: scaleX(1);
      }

      .detail-icon {
        font-size: clamp(2.2rem, 6vw, 2.8rem);
        margin-bottom: 15px;
        background: linear-gradient(
          135deg,
          var(--primary) 0%,
          var(--accent) 100%
        );
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
      }

      .detail-card h3 {
        color: var(--primary-light);
        margin-bottom: 10px;
        font-size: clamp(1.2rem, 3vw, 1.4rem);
        font-weight: 600;
      }

      .detail-card p {
        color: var(--text-light);
        font-size: clamp(1rem, 2.5vw, 1.2rem);
        line-height: 1.4;
      }

      .additional-info {
        background: linear-gradient(
          135deg,
          rgba(21, 21, 43, 0.8) 0%,
          rgba(30, 30, 58, 0.8) 100%
        );
        padding: clamp(25px, 4vw, 35px);
        border-radius: 16px;
        box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2);
        border: 1px solid rgba(10, 116, 218, 0.2);
        margin-bottom: 30px;
        position: relative;
        overflow: hidden;
      }

      .additional-info::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: radial-gradient(
          circle at 30% 30%,
          rgba(10, 116, 218, 0.1) 0%,
          transparent 50%
        );
      }

      .additional-info h3 {
        color: var(--primary);
        margin-bottom: 20px;
        text-align: center;
        font-size: clamp(1.4rem, 4vw, 1.7rem);
        font-weight: 600;
        position: relative;
        z-index: 1;
      }

      .additional-info p {
        color: var(--text-light);
        line-height: 1.7;
        text-align: center;
        font-size: clamp(1rem, 2.5vw, 1.2rem);
        max-width: 700px;
        margin: 0 auto;
        position: relative;
        z-index: 1;
      }

      .buttons-container {
        display: flex;
        justify-content: center;
        gap: 30px;
        position: relative;
        min-height: 160px;
        align-items: center;
        margin-top: 30px;
        width: 100%;
        max-width: 900px;
        display: none;
        flex-wrap: wrap;
      }

      .btn {
        padding: clamp(16px, 4vw, 20px) clamp(30px, 6vw, 50px);
        border: none;
        border-radius: 50px;
        font-size: clamp(1.1rem, 3vw, 1.3rem);
        font-weight: 600;
        cursor: pointer;
        transition: all 0.4s ease;
        box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
        display: flex;
        align-items: center;
        gap: 12px;
        position: relative;
        overflow: hidden;
        z-index: 10;
      }

      .btn::before {
        content: "";
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(
          90deg,
          transparent,
          rgba(255, 255, 255, 0.2),
          transparent
        );
        transition: left 0.7s;
      }

      .btn:hover::before {
        left: 100%;
      }

      #accept-btn {
        background: linear-gradient(
          135deg,
          var(--primary) 0%,
          var(--accent) 100%
        );
        color: white;
      }

      #accept-btn:hover {
        transform: translateY(-8px) scale(1.05);
        box-shadow: 0 15px 30px rgba(10, 116, 218, 0.4);
      }

      #decline-btn {
        background: linear-gradient(135deg, #4a5568 0%, #2d3748 100%);
        color: white;
        position: absolute;
        transition: all 0.3s ease;
      }

      .btn:hover {
        transform: translateY(-5px);
      }

      .confirmation {
        text-align: center;
        padding: clamp(30px, 5vw, 40px);
        background: transparent;
        color: var(--primary);
        border-radius: 20px;
        margin-top: 30px;
        box-shadow: 0 15px 35px rgba(10, 116, 218, 0.4);
        display: none;
        animation: slideUp 0.7s ease-out;
        width: 100%;
        max-width: 900px;
        border: 1px solid rgba(10, 116, 218, 0.2);
        backdrop-filter: blur(10px);
      }

      .confirmation i {
        font-size: clamp(3rem, 8vw, 4rem);
        margin-bottom: 20px;
        animation: pulse 2s infinite;
        color: var(--primary);
      }

      .confirmation h3 {
        font-size: clamp(1.8rem, 4vw, 2.2rem);
        margin-bottom: 15px;
        color: var(--primary);
      }

      .confirmation p {
        font-size: clamp(1.1rem, 2.5vw, 1.3rem);
        line-height: 1.6;
        color: var(--primary);
      }

      .footer {
        text-align: center;
        padding: 30px;
        color: var(--text-light);
        font-size: clamp(1rem, 2.5vw, 1.1rem);
        margin-top: 40px;
        width: 100%;
      }

      .heart {
        color: #ff4d6d;
        animation: heartbeat 1.5s infinite;
        display: inline-block;
      }

      @keyframes heartbeat {
        0% {
          transform: scale(1);
        }
        5% {
          transform: scale(1.1);
        }
        10% {
          transform: scale(1);
        }
        15% {
          transform: scale(1.2);
        }
        50% {
          transform: scale(1);
        }
        100% {
          transform: scale(1);
        }
      }

      @keyframes pulse {
        0% {
          transform: scale(1);
          opacity: 1;
        }
        50% {
          transform: scale(1.1);
          opacity: 0.8;
        }
        100% {
          transform: scale(1);
          opacity: 1;
        }
      }

      .floating-hearts {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        pointer-events: none;
        z-index: 1;
      }

      .heart-particle {
        position: absolute;
        font-size: 24px;
        color: #ff4d6d;
        opacity: 0;
        pointer-events: none;
      }

      .firework {
        position: absolute;
        width: 5px;
        height: 5px;
        border-radius: 50%;
        pointer-events: none;
      }

      /* Heart animation from the image */
      .heart-container {
        position: relative;
        width: 100px;
        height: 90px;
        text-align: center;
        font-size: 16px;
        margin: 20px auto;
      }

      .heart-svg {
        fill: var(--primary);
        position: relative;
        top: 5px;
        width: 50px;
        animation: pulse 1s ease infinite;
      }

      @keyframes pulse {
        0% {
          transform: scale(1);
        }
        50% {
          transform: scale(1.3);
        }
        100% {
          transform: scale(1);
        }
      }

      /* Love animation canvas */
      #loveCanvas {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        z-index: 0;
        pointer-events: none;
      }

      /* NEW FEATURES STYLES */

      /* Romantic Background Animation */
      .romantic-bg {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: radial-gradient(
            circle at 20% 80%,
            rgba(10, 116, 218, 0.1) 0%,
            transparent 50%
          ),
          radial-gradient(
            circle at 80% 20%,
            rgba(0, 212, 170, 0.1) 0%,
            transparent 50%
          ),
          radial-gradient(
            circle at 40% 40%,
            rgba(255, 77, 109, 0.05) 0%,
            transparent 50%
          );
        animation: float 6s ease-in-out infinite;
        z-index: 0;
      }

      @keyframes float {
        0%,
        100% {
          transform: translateY(0px);
        }
        50% {
          transform: translateY(-20px);
        }
      }

      /* Hidden Surprise Messages */
      .surprise-button {
        position: fixed;
        bottom: 20px;
        right: 20px;
        width: 50px;
        height: 50px;
        background: linear-gradient(135deg, var(--primary), var(--accent));
        border: none;
        border-radius: 50%;
        color: white;
        font-size: 1.5rem;
        cursor: pointer;
        opacity: 0.7;
        transition: all 0.3s ease;
        z-index: 1000;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
      }

      .surprise-button:hover {
        opacity: 1;
        transform: scale(1.1);
      }

      .surprise-message {
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%) scale(0);
        background: linear-gradient(135deg, var(--card), var(--card-light));
        padding: 30px;
        border-radius: 20px;
        box-shadow: 0 20px 40px rgba(0, 0, 0, 0.5);
        border: 2px solid var(--primary);
        max-width: 400px;
        width: 90%;
        text-align: center;
        z-index: 1001;
        transition: transform 0.5s ease;
      }

      .surprise-message.active {
        transform: translate(-50%, -50%) scale(1);
      }

      .surprise-message h3 {
        color: var(--primary);
        margin-bottom: 15px;
        font-family: var(--letter-font);
      }

      .surprise-message p {
        color: var(--text);
        line-height: 1.6;
        margin-bottom: 20px;
      }

      .close-surprise {
        background: var(--primary);
        color: white;
        border: none;
        padding: 10px 20px;
        border-radius: 25px;
        cursor: pointer;
        transition: all 0.3s ease;
      }

      .close-surprise:hover {
        background: var(--primary-light);
      }

      /* Name in Lights Animation */
      .name-lights {
        text-align: center;
        margin: 30px 0;
        display: none;
      }

      .glowing-name {
        font-size: clamp(2rem, 6vw, 3.5rem);
        font-family: var(--letter-font);
        background: linear-gradient(
          45deg,
          #ff6b6b,
          #ffd93d,
          #6bcf7f,
          #4d96ff,
          #9d4edd
        );
        background-size: 400% 400%;
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        animation: glow 3s ease-in-out infinite, gradientShift 4s ease infinite;
        text-shadow: 0 0 20px rgba(255, 255, 255, 0.5);
      }

      @keyframes glow {
        0%,
        100% {
          text-shadow: 0 0 20px rgba(255, 255, 255, 0.5);
        }
        50% {
          text-shadow: 0 0 30px rgba(255, 255, 255, 0.8),
            0 0 40px rgba(255, 255, 255, 0.6);
        }
      }

      @keyframes gradientShift {
        0% {
          background-position: 0% 50%;
        }
        50% {
          background-position: 100% 50%;
        }
        100% {
          background-position: 0% 50%;
        }
      }

      /* Interactive Rose/Gift */
      .rose-container {
        text-align: center;
        margin: 30px 0;
        display: none;
      }

      .rose-animation {
        font-size: 4rem;
        margin-top: 20px;
        animation: roseFloat 3s ease-in-out infinite;
      }

      @keyframes roseFloat {
        0%,
        100% {
          transform: translateY(0) rotate(0deg);
        }
        50% {
          transform: translateY(-20px) rotate(10deg);
        }
      }

     /* Countdown Timer */
.countdown-container {
  text-align: center;
  margin: 20px 0;
  display: none;
}

.countdown {
  display: flex;
  justify-content: center;
  gap: 12px;
  margin-top: 15px;
  flex-wrap: wrap;
}

.countdown-item {
  background: linear-gradient(135deg, var(--card), var(--card-light));
  padding: 15px 10px;
  border-radius: 12px;
  min-width: 50px;
  box-shadow: 0 8px 20px rgba(234, 0, 255, 0.3);
  border: 1px solid var(--primary);
}

.countdown-number {
  font-size: 1.2rem;
  font-weight: bold;
  background: linear-gradient(135deg, var(--primary), var(--accent));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  display: block;
}

.countdown-label {
  color: var(--text-light);
  font-size: 0.6rem;
  margin-top: 5px;
  display: block;
}

@media (max-width: 768px) {
  .countdown {
    gap: 8px;
  }
  
  .countdown-item {
    min-width: 60px;
    padding: 12px 8px;
  }
  
  .countdown-number {
    font-size: 1.5rem;
  }
  
  .countdown-label {
    font-size: 0.8rem;
  }
}

      /* Mobile-specific improvements */
      @media (max-width: 768px) {
        .content-wrapper {
          padding: 20px 15px;
        }

        .envelope-container {
          margin: 30px 0;
        }

        .details-grid {
          grid-template-columns: 1fr;
          gap: 20px;
        }

        .buttons-container {
          flex-direction: column;
          gap: 20px;
          min-height: auto;
        }

        #decline-btn {
          position: relative;
          order: 2;
        }

        .btn {
          width: 100%;
          justify-content: center;
        }

        .cssletter {
          margin: 5vh 0;
        }

        .envelope {
          width: 280px;
          height: 180px;
        }

        .envelope::before {
          font-size: 3rem;
        }

        .heart {
          width: 80px;
        }

        .heart-text {
          font-size: 1.2rem;
        }

        .countdown {
          gap: 10px;
        }

        .countdown-item {
          min-width: 80px;
          padding: 15px;
        }

        .countdown-number {
          font-size: 2rem;
        }

        .surprise-button {
          bottom: 10px;
          right: 10px;
        }
      }

      @media (max-width: 480px) {
        .header {
          margin-bottom: 20px;
        }

        .invitation-header {
          margin-bottom: 30px;
        }

        .details-grid {
          margin-bottom: 30px;
        }

        .additional-info {
          margin-bottom: 20px;
        }

        .envelope {
          width: 250px;
          height: 150px;
        }

        .envelope::before {
          font-size: 2.5rem;
        }

        .heart {
          width: 70px;
        }

        .heart-text {
          font-size: 1rem;
        }

        .countdown-item {
          min-width: 70px;
          padding: 10px;
        }

        .countdown-number {
          font-size: 1.8rem;
        }
      }

      /* Touch improvements for mobile */
      @media (hover: none) {
        .detail-card:hover {
          transform: none;
        }

        .btn:hover {
          transform: none;
        }

        #accept-btn:hover {
          transform: none;
        }

        .surprise-button:hover {
          transform: none;
          opacity: 0.7;
        }
      }
    </style>
  </head>
  <body>
    <div class="container">
      <canvas id="loveCanvas"></canvas>

      <!-- Romantic Background Animation -->
      <div class="romantic-bg"></div>

      <div class="particles-container" id="particles"></div>

      <div class="floating-hearts" id="floatingHearts"></div>

      <!-- Hidden music element (no visible controls) -->
      <audio id="romanticMusic" loop>
        <source src="audio.mp3" type="audio/mpeg">
        <source src="audio.ogg" type="audio/ogg"> <!-- Optional: for browser compatibility -->
        Your browser does not support the audio element.
      </audio>

      <!-- Hidden Surprise Button -->
      <button class="surprise-button" id="surpriseButton">üíù</button>

      <!-- Surprise Message -->
      <div class="surprise-message" id="surpriseMessage">
        <h3>My Dearest Namadzavho</h3>
        <p>
          Every moment with you feels like a beautiful dream. Your smile lights
          up my world, and your laughter is my favorite melody. I feel
          incredibly lucky to have you in my life.
        </p>
        <p>
           Can't wait to
          create more beautiful memories with you! ‚ù§Ô∏è
        </p>
        <button class="close-surprise" id="closeSurprise">Close</button>
      </div>

      <div class="content-wrapper">
        <div class="header">
          <h1>A Special Invitation</h1>
          <p>
            For the amazing and beautiful
            <span class="name-highlight">Namadzavho</span>
            <br />Vision 2.0 üòÇ
          </p>
        </div>

        <div class="cssletter">
          <div class="envelope-container" id="envelopeContainer">
            <div class="envelope" id="envelope">
              <button
                class="heart"
                id="openEnvelope"
                aria-label="Open Envelope"
              >
                <span class="heart-text">Open</span>
              </button>
              <div class="envelope-flap"></div>
              <div class="envelope-folds">
                <div class="envelope-left"></div>
                <div class="envelope-right"></div>
                <div class="envelope-bottom"></div>
              </div>
            </div>
          </div>
        </div>

        <div class="invitation-card" id="invitationCard">
          <div class="invitation-header">
            <h2>You're Invited!</h2>
            <p>
              I would be absolutely delighted if you would join me for a special
              evening.
            </p>
          </div>

          <div class="details-grid">
            <div class="detail-card">
              <div class="detail-icon">
                <i class="far fa-calendar-alt"></i>
              </div>
              <h3>Date</h3>
              <p>16 November 2025</p>
            </div>
            <div class="detail-card">
              <div class="detail-icon">
                <i class="far fa-clock"></i>
              </div>
              <h3>Time</h3>
              <p>6:30 PM</p>
            </div>
            <div class="detail-card">
              <div class="detail-icon">
                <i class="fas fa-map-marker-alt"></i>
              </div>
              <h3>Location</h3>
              <p>Fishmonger<br />Rosebank</p>
            </div>
          </div>
        </div>

        <div class="buttons-container" id="buttonsContainer">
          <button id="accept-btn" class="btn">
            <i class="fas fa-heart"></i> Accept Invitation
          </button>
          <button id="decline-btn" class="btn">
            <i class="fas fa-times"></i> Decline
          </button>
        </div>

        <!-- Interactive Rose (no button, just animation) -->
        <div class="rose-container" id="roseContainer">
          <div class="rose-animation" id="roseAnimation">üåπ</div>
        </div>

        <div id="confirmation" class="confirmation">
          <div class="heart-container">
            <svg class="heart-svg" viewBox="0 0 32 29.6">
              <path
                d="M23.6,0c-3.4,0-6.3,2.7-7.6,5.6C14.7,2.7,11.8,0,8.4,0C3.8,0,0,3.8,0,8.4c0,9.4,9.5,11.9,16,21.2
                        c6.1-9.3,16-12.1,16-21.2C32,3.8,28.2,0,23.6,0z"
              />
            </svg>
          </div>
          <h3>Thank you for accepting!</h3>
          <p>
            I'm really looking forward to our date on November 16th! I'll
            confirm all the details closer to the time.
          </p>

          <!-- Countdown Timer moved inside confirmation -->
          <div class="countdown-container" id="countdownContainer">
            <h6>Counting Down to Our Special Evening</h3>
            <div class="countdown">
              <div class="countdown-item">
                <span class="countdown-number" id="days">0</span>
                <span class="countdown-label">Days</span>
              </div>
              <div class="countdown-item">
                <span class="countdown-number" id="hours">0</span>
                <span class="countdown-label">Hours</span>
              </div>
              <div class="countdown-item">
                <span class="countdown-number" id="minutes">0</span>
                <span class="countdown-label">Minutes</span>
              </div>
              <div class="countdown-item">
                <span class="countdown-number" id="seconds">0</span>
                <span class="countdown-label">Seconds</span>
              </div>
            </div>
          </div>
        </div>

        <!-- Name in Lights Animation moved to footer area -->
        <div class="name-lights" id="nameLights">
          <h2 class="glowing-name">Namadzavho</h2>
        </div>

        <div class="footer">
          <p>Made with ‚ù§Ô∏è for Namadzavho</p>
        </div>
      </div>
    </div>

    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const envelopeContainer = document.getElementById("envelopeContainer");
        const envelope = document.getElementById("envelope");
        const openEnvelopeBtn = document.getElementById("openEnvelope");
        const invitationCard = document.getElementById("invitationCard");
        const buttonsContainer = document.getElementById("buttonsContainer");
        const acceptBtn = document.getElementById("accept-btn");
        const declineBtn = document.getElementById("decline-btn");
        const confirmation = document.getElementById("confirmation");
        const floatingHearts = document.getElementById("floatingHearts");

        // New elements
        const surpriseButton = document.getElementById("surpriseButton");
        const surpriseMessage = document.getElementById("surpriseMessage");
        const closeSurprise = document.getElementById("closeSurprise");
        const nameLights = document.getElementById("nameLights");
        const roseContainer = document.getElementById("roseContainer");
        const roseAnimation = document.getElementById("roseAnimation");
        const countdownContainer =
          document.getElementById("countdownContainer");
        const romanticMusic = document.getElementById("romanticMusic");

        let envelopeOpened = false;

        // Initialize all features
        initParticles();
        initLoveAnimation();
        initCountdown();
        setupMusic();
        setupSurpriseMessage();
        setupRoseAnimation();

       // Auto-play music when page loads
function setupMusic() {
  // Set the music source
  romanticMusic.volume = 0.7; // Set volume to 70%
  
  // Try to play music automatically
  const playMusic = () => {
    romanticMusic.play().catch(error => {
      console.log("Auto-play failed:", error);
      // If autoplay fails, set up a click handler to start music
      document.body.addEventListener('click', function startMusicOnClick() {
        romanticMusic.play().then(() => {
          console.log("Music started after user interaction");
        }).catch(e => {
          console.log("Still can't play music:", e);
        });
        // Remove the click listener after first interaction
        document.body.removeEventListener('click', startMusicOnClick);
      }, { once: true });
    });
  };

  // Wait for the audio to be ready
  romanticMusic.addEventListener('canplaythrough', playMusic);
  
  // Also try after a short delay
  setTimeout(playMusic, 1000);
}

        // Function to create floating hearts
        function createFloatingHearts() {
          const heartCount = 15;

          for (let i = 0; i < heartCount; i++) {
            setTimeout(() => {
              const heart = document.createElement("div");
              heart.className = "heart-particle";
              heart.innerHTML = "‚ù§Ô∏è";
              heart.style.left = Math.random() * 100 + "vw";
              heart.style.fontSize = Math.random() * 20 + 15 + "px";
              heart.style.opacity = "0";
              floatingHearts.appendChild(heart);

              // Animate heart
              gsap.to(heart, {
                y: -1000,
                x: "+=100",
                rotation: Math.random() * 360,
                opacity: 0.7,
                duration: Math.random() * 10 + 10,
                ease: "none",
                onComplete: () => {
                  heart.remove();
                },
              });
            }, i * 500);
          }
        }

        // Create floating hearts periodically
        setInterval(createFloatingHearts, 5000);
        createFloatingHearts();

        // Function to move the decline button to a random position
        function moveDeclineButton() {
          const containerWidth =
            buttonsContainer.offsetWidth - declineBtn.offsetWidth - 20;
          const containerHeight =
            buttonsContainer.offsetHeight - declineBtn.offsetHeight - 20;

          const randomX = Math.floor(Math.random() * containerWidth);
          const randomY = Math.floor(Math.random() * containerHeight);

          declineBtn.style.left = `${randomX}px`;
          declineBtn.style.top = `${randomY}px`;
        }

        // Handle envelope click
        openEnvelopeBtn.addEventListener("click", function () {
          if (!envelopeOpened) {
            envelope.classList.add("active");

            // After envelope animation completes, show the invitation
            setTimeout(() => {
              invitationCard.style.display = "block";
              buttonsContainer.style.display = "flex";
              nameLights.style.display = "block";
              roseContainer.style.display = "block";
              envelopeContainer.style.display = "none";

              // Start rose petals animation when envelope opens
              createRosePetals();

              // Initialize button positions
              moveDeclineButton();

              // Move the decline button when hovered or clicked
              declineBtn.addEventListener("mouseover", moveDeclineButton);
              declineBtn.addEventListener("click", moveDeclineButton);
              declineBtn.addEventListener("touchstart", moveDeclineButton);
            }, 800);

            envelopeOpened = true;
          }
        });

        // Handle accept button click
        acceptBtn.addEventListener("click", function () {
          // Hide invitation content
          invitationCard.style.display = "none";
          buttonsContainer.style.display = "none";
          nameLights.style.display = "none";
          roseContainer.style.display = "none";

          // Show confirmation message with animation
          confirmation.style.display = "block";
          countdownContainer.style.display = "block";

          // Create celebration hearts
          createCelebrationHearts();

          // Create fireworks
          createFireworks();

          // Send notification
          sendAcceptanceNotification();
        });

        // Setup surprise message
        function setupSurpriseMessage() {
          surpriseButton.addEventListener("click", function () {
            surpriseMessage.classList.add("active");
          });

          closeSurprise.addEventListener("click", function () {
            surpriseMessage.classList.remove("active");
          });

          // Close surprise message when clicking outside
          surpriseMessage.addEventListener("click", function (e) {
            if (e.target === surpriseMessage) {
              surpriseMessage.classList.remove("active");
            }
          });
        }

        // Setup rose animation (no button, just automatic)
        function setupRoseAnimation() {
          // Rose animation will start automatically when envelope opens
        }

        // Create rose petals animation
        function createRosePetals() {
          for (let i = 0; i < 20; i++) {
            setTimeout(() => {
              const petal = document.createElement("div");
              petal.innerHTML = "üå∏";
              petal.style.position = "fixed";
              petal.style.fontSize = Math.random() * 20 + 15 + "px";
              petal.style.left = Math.random() * 100 + "vw";
              petal.style.top = "-50px";
              petal.style.zIndex = "1000";
              petal.style.pointerEvents = "none";
              document.body.appendChild(petal);

              // Animate petal
              gsap.to(petal, {
                y: window.innerHeight + 100,
                x: Math.random() * 200 - 100,
                rotation: Math.random() * 360,
                duration: Math.random() * 5 + 5,
                ease: "power1.in",
                onComplete: () => {
                  document.body.removeChild(petal);
                },
              });
            }, i * 200);
          }
        }

        // Initialize countdown timer
        function initCountdown() {
          function updateCountdown() {
            const targetDate = new Date("November 16, 2025 18:30:00").getTime();
            const now = new Date().getTime();
            const timeLeft = targetDate - now;

            const days = Math.floor(timeLeft / (1000 * 60 * 60 * 24));
            const hours = Math.floor(
              (timeLeft % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60)
            );
            const minutes = Math.floor(
              (timeLeft % (1000 * 60 * 60)) / (1000 * 60)
            );
            const seconds = Math.floor((timeLeft % (1000 * 60)) / 1000);

            document.getElementById("days").textContent = days
              .toString()
              .padStart(2, "0");
            document.getElementById("hours").textContent = hours
              .toString()
              .padStart(2, "0");
            document.getElementById("minutes").textContent = minutes
              .toString()
              .padStart(2, "0");
            document.getElementById("seconds").textContent = seconds
              .toString()
              .padStart(2, "0");
          }

          setInterval(updateCountdown, 1000);
          updateCountdown();
        }

        // Create celebration hearts when invitation is accepted
        function createCelebrationHearts() {
          for (let i = 0; i < 50; i++) {
            setTimeout(() => {
              const heart = document.createElement("div");
              heart.className = "heart-particle";
              heart.innerHTML = "‚ù§Ô∏è";
              heart.style.left = Math.random() * 100 + "vw";
              heart.style.top = Math.random() * 100 + "vh";
              heart.style.fontSize = Math.random() * 30 + 20 + "px";
              heart.style.opacity = "0";
              document.body.appendChild(heart);

              // Animate heart
              gsap.to(heart, {
                y: "-=200",
                x: "+=100",
                rotation: Math.random() * 360,
                opacity: 1,
                duration: Math.random() * 3 + 2,
                ease: "power2.out",
                onComplete: () => {
                  gsap.to(heart, {
                    opacity: 0,
                    duration: 1,
                    onComplete: () => heart.remove(),
                  });
                },
              });
            }, i * 100);
          }
        }

        // Create fireworks animation
        function createFireworks() {
          const colors = [
            "#ff4d6d",
            "#00d4aa",
            "#0a74da",
            "#ffd700",
            "#ff6b6b",
            "#4ecdc4",
          ];

          for (let i = 0; i < 50; i++) {
            setTimeout(() => {
              const firework = document.createElement("div");
              firework.className = "firework";
              firework.style.left = Math.random() * 100 + "vw";
              firework.style.top = Math.random() * 100 + "vh";
              firework.style.backgroundColor =
                colors[Math.floor(Math.random() * colors.length)];
              document.body.appendChild(firework);

              // Animate firework
              gsap.to(firework, {
                width: "0px",
                height: "0px",
                duration: 0.8,
                ease: "power2.out",
                onComplete: () => {
                  // Create explosion
                  for (let j = 0; j < 30; j++) {
                    const particle = document.createElement("div");
                    particle.className = "firework";
                    particle.style.left = firework.style.left;
                    particle.style.top = firework.style.top;
                    particle.style.backgroundColor =
                      firework.style.backgroundColor;
                    document.body.appendChild(particle);

                    // Animate particles
                    gsap.to(particle, {
                      x: (Math.random() - 0.5) * 200,
                      y: (Math.random() - 0.5) * 200,
                      opacity: 0,
                      duration: 1.5,
                      ease: "power2.out",
                      onComplete: () => {
                        document.body.removeChild(particle);
                      },
                    });
                  }

                  document.body.removeChild(firework);
                },
              });
            }, i * 200);
          }
        }

        // Function to simulate sending a notification
        function sendAcceptanceNotification() {
          // Create a custom notification
          const notification = document.createElement("div");
          notification.style.cssText = `
                    position: fixed;
                    top: 20px;
                    right: 20px;
                    background: linear-gradient(135deg, var(--primary), var(--accent));
                    color: white;
                    padding: 20px 30px;
                    border-radius: 15px;
                    box-shadow: 0 10px 25px rgba(0,0,0,0.3);
                    z-index: 1000;
                    animation: slideInRight 0.5s ease-out;
                    max-width: 300px;
                `;
          notification.innerHTML = `
                    <strong>Success!</strong><br>
                    Namadzavho accepted your invitation!
                `;
          document.body.appendChild(notification);

          // Remove notification after 5 seconds
          setTimeout(() => {
            notification.style.animation = "slideOutRight 0.5s ease-in";
            setTimeout(() => {
              document.body.removeChild(notification);
            }, 0.01);
          }, 0.01);

          // Add the slide animations to the style
          const style = document.createElement("style");
          style.textContent = `
                    @keyframes slideInRight {
                        from { transform: translateX(100%); opacity: 0; }
                        to { transform: translateX(0); opacity: 1; }
                    }
                    @keyframes slideOutRight {
                        from { transform: translateX(0); opacity: 1; }
                        to { transform: translateX(100%); opacity: 0; }
                `;
          document.head.appendChild(style);

          // Log to console
          console.log(
            "Namadzavho accepted the invitation for November 16, 2025 at Fishmonger Rosebank"
          );
        }

        // Particle system initialization
        function initParticles() {
          const particlesContainer = document.getElementById("particles");
          const particleCount = 50;

          for (let i = 0; i < particleCount; i++) {
            const particle = document.createElement("div");
            particle.style.cssText = `
                        position: absolute;
                        width: ${Math.random() * 5 + 2}px;
                        height: ${Math.random() * 5 + 2}px;
                        background: ${
                          Math.random() > 0.5
                            ? "var(--primary)"
                            : "var(--accent)"
                        };
                        border-radius: 50%;
                        opacity: ${Math.random() * 0.5 + 0.1};
                        pointer-events: none;
                    `;

            particle.style.left = Math.random() * 100 + "vw";
            particle.style.top = Math.random() * 100 + "vh";

            particlesContainer.appendChild(particle);

            // Animate particle
            gsap.to(particle, {
              x: "+=100",
              y: "+=100",
              rotation: 360,
              duration: Math.random() * 20 + 10,
              repeat: -1,
              yoyo: true,
              ease: "sine.inOut",
            });
          }
        }

        // Love animation with Three.js
        function initLoveAnimation() {
          const canvas = document.getElementById("loveCanvas");
          const renderer = new THREE.WebGLRenderer({
            canvas,
            alpha: true,
            antialias: true,
          });

          renderer.setSize(window.innerWidth, window.innerHeight);
          renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));

          const scene = new THREE.Scene();
          const camera = new THREE.PerspectiveCamera(
            75,
            window.innerWidth / window.innerHeight,
            0.1,
            1000
          );
          camera.position.z = 5;

          // Create heart particles
          const heartGeometry = new THREE.BufferGeometry();
          const particleCount = 100;
          const positions = new Float32Array(particleCount * 3);
          const colors = new Float32Array(particleCount * 3);

          for (let i = 0; i < particleCount * 3; i += 3) {
            positions[i] = (Math.random() - 0.5) * 20;
            positions[i + 1] = (Math.random() - 0.5) * 20;
            positions[i + 2] = (Math.random() - 0.5) * 10;

            // Blue and green colors
            colors[i] = Math.random() > 0.5 ? 0.1 : 0.6; // R
            colors[i + 1] = Math.random() > 0.5 ? 0.4 : 0.8; // G
            colors[i + 2] = Math.random() > 0.5 ? 0.8 : 0.9; // B
          }

          heartGeometry.setAttribute(
            "position",
            new THREE.BufferAttribute(positions, 3)
          );
          heartGeometry.setAttribute(
            "color",
            new THREE.BufferAttribute(colors, 3)
          );

          const heartMaterial = new THREE.PointsMaterial({
            size: 0.1,
            vertexColors: true,
            transparent: true,
            opacity: 0.6,
          });

          const hearts = new THREE.Points(heartGeometry, heartMaterial);
          scene.add(hearts);

          // Animation
          function animate() {
            requestAnimationFrame(animate);

            const time = Date.now() * 0.001;

            hearts.rotation.x = time * 0.1;
            hearts.rotation.y = time * 0.2;

            const positions = hearts.geometry.attributes.position.array;

            for (let i = 0; i < particleCount * 3; i += 3) {
              positions[i + 1] += Math.sin(time + i) * 0.01;
            }

            hearts.geometry.attributes.position.needsUpdate = true;

            renderer.render(scene, camera);
          }

          animate();

          // Handle window resize
          window.addEventListener("resize", () => {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
          });
        }
      });
    </script>
  </body>
</html>
